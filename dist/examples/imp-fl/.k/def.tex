\nonstopmode
\documentclass{article}
\usepackage[poster,style=bubble]{k}
\title{IMP-FL}
\begin{document}
\begin{kdefinition}
\maketitle
\begin{module}{\moduleName{IMP-FL-SYNTAX}}

\begin{syntaxBlock}{\nonTerminal{\sort{KLabel}}}\syntax{\terminal{div\#ee}}{}\syntaxCont{\terminal{div\#He}}{}\syntaxCont{\terminal{div\#eH}}{}\syntaxCont{\terminal{plus\#ee}}{}\syntaxCont{\terminal{plus\#He}}{}\syntaxCont{\terminal{plus\#eH}}{}\syntaxCont{\terminal{le\#ee}}{}\syntaxCont{\terminal{le\#He}}{}\syntaxCont{\terminal{not\#e}}{}\syntaxCont{\terminal{not\#H}}{}\syntaxCont{\terminal{and\#ee}}{}\syntaxCont{\terminal{and\#He}}{}\syntaxCont{\terminal{assign\#ee}}{}\syntaxCont{\terminal{assign\#eH}}{}\syntaxCont{\terminal{ite\#eee}}{}\syntaxCont{\terminal{ite\#Hee}}{}\syntaxCont{\terminal{while\#ee}}{}\syntaxCont{\terminal{seq\#ee}}{}\syntaxCont{\terminal{pgm\#ee}}{}\syntaxCont{\terminal{emptyIds\#}}{}\syntaxCont{\terminal{consIds\#ee}}{}\syntaxCont{\terminal{skip\#}}{}
\end{syntaxBlock}

\begin{syntaxBlock}{\nonTerminal{\sort{KResult}}}\syntax{{\nonTerminal{\sort{Int}}}}{}\syntaxCont{{\nonTerminal{\sort{Bool}}}}{}
\end{syntaxBlock}
\end{module}
\begin{module}{\moduleName{IMP-FL}}
\kconfig{\kall[yellow]{T}{\kall[green]{k}{\variable[K]{\$PGM}}
\mathrel{}\kall[red]{env}{\dotCt{Map}}
}
}
\krule{
\reduce{\kall[green]{k}{\constant[KLabel]{div\#ee}(\variable[K]{E1}\kcomma\variable[List\{K\}]{E2})\kra\variable[K]{K}}
}{\kall[green]{k}{\variable[K]{E1}\kra\constant[KLabel]{div\#He}(\variable[List\{K\}]{E2})\kra\variable[K]{K}}
}}{\constant[KLabel]{'notBool}(\constant[KLabel]{'isKResult}(\variable[K]{E1}))}{}
\krule{
\reduce{\kall[green]{k}{\constant[KLabel]{div\#ee}(\variable[List\{K\}]{E1}\kcomma\variable[K]{E2})\kra\variable[K]{K}}
}{\kall[green]{k}{\variable[K]{E2}\kra\constant[KLabel]{div\#eH}(\variable[List\{K\}]{E1})\kra\variable[K]{K}}
}}{\constant[KLabel]{'notBool}(\constant[KLabel]{'isKResult}(\variable[K]{E2}))}{}
\krule{
\reduce{\kall[green]{k}{\variable[K]{V}\kra\constant[KLabel]{div\#He}(\variable[List\{K\}]{E})\kra\variable[K]{K}}
}{\kall[green]{k}{\constant[KLabel]{div\#ee}(\variable[K]{V}\kcomma\variable[List\{K\}]{E})\kra\variable[K]{K}}
}}{\constant[KLabel]{'isKResult}(\variable[K]{V})}{}
\krule{
\reduce{\kall[green]{k}{\variable[K]{V}\kra\constant[KLabel]{div\#eH}(\variable[List\{K\}]{E})\kra\variable[K]{K}}
}{\kall[green]{k}{\constant[KLabel]{div\#ee}(\variable[List\{K\}]{E}\kcomma\variable[K]{V})\kra\variable[K]{K}}
}}{\constant[KLabel]{'isKResult}(\variable[K]{V})}{}
\krule{
\reduce{\kall[green]{k}{\constant[KLabel]{plus\#ee}(\variable[K]{E1}\kcomma\variable[List\{K\}]{E2})\kra\variable[K]{K}}
}{\kall[green]{k}{\variable[K]{E1}\kra\constant[KLabel]{plus\#He}(\variable[List\{K\}]{E2})\kra\variable[K]{K}}
}}{\constant[KLabel]{'notBool}(\constant[KLabel]{'isKResult}(\variable[K]{E1}))}{}
\krule{
\reduce{\kall[green]{k}{\constant[KLabel]{plus\#ee}(\variable[List\{K\}]{E1}\kcomma\variable[K]{E2})\kra\variable[K]{K}}
}{\kall[green]{k}{\variable[K]{E2}\kra\constant[KLabel]{plus\#eH}(\variable[List\{K\}]{E1})\kra\variable[K]{K}}
}}{\constant[KLabel]{'notBool}(\constant[KLabel]{'isKResult}(\variable[K]{E2}))}{}
\krule{
\reduce{\kall[green]{k}{\variable[K]{V}\kra\constant[KLabel]{plus\#He}(\variable[List\{K\}]{E})\kra\variable[K]{K}}
}{\kall[green]{k}{\constant[KLabel]{plus\#ee}(\variable[K]{V}\kcomma\variable[List\{K\}]{E})\kra\variable[K]{K}}
}}{\constant[KLabel]{'isKResult}(\variable[K]{V})}{}
\krule{
\reduce{\kall[green]{k}{\variable[K]{V}\kra\constant[KLabel]{plus\#eH}(\variable[List\{K\}]{E})\kra\variable[K]{K}}
}{\kall[green]{k}{\constant[KLabel]{plus\#ee}(\variable[List\{K\}]{E}\kcomma\variable[K]{V})\kra\variable[K]{K}}
}}{\constant[KLabel]{'isKResult}(\variable[K]{V})}{}
\krule{
\reduce{\kall[green]{k}{\constant[KLabel]{le\#ee}(\variable[K]{E1}\kcomma\variable[List\{K\}]{E2})\kra\variable[K]{K}}
}{\kall[green]{k}{\variable[K]{E1}\kra\constant[KLabel]{le\#He}(\variable[List\{K\}]{E2})\kra\variable[K]{K}}
}}{\constant[KLabel]{'notBool}(\constant[KLabel]{'isKResult}(\variable[K]{E1}))}{}
\krule{
\reduce{\kall[green]{k}{\variable[K]{V}\kra\constant[KLabel]{le\#He}(\variable[List\{K\}]{E})\kra\variable[K]{K}}
}{\kall[green]{k}{\constant[KLabel]{le\#ee}(\variable[K]{V}\kcomma\variable[List\{K\}]{E})\kra\variable[K]{K}}
}}{\constant[KLabel]{'isKResult}(\variable[K]{V})}{}
\krule{
\reduce{\kall[green]{k}{\constant[KLabel]{not\#e}(\variable[K]{E})\kra\variable[K]{K}}
}{\kall[green]{k}{\variable[K]{E}\kra\constant[KLabel]{not\#H}(\dotCt{List{K}})\kra\variable[K]{K}}
}}{\constant[KLabel]{'notBool}(\constant[KLabel]{'isKResult}(\variable[K]{E}))}{}
\krule{
\reduce{\kall[green]{k}{\variable[K]{V}\kra\constant[KLabel]{not\#H}(\dotCt{List{K}})\kra\variable[K]{K}}
}{\kall[green]{k}{\constant[KLabel]{not\#e}(\variable[K]{V})\kra\variable[K]{K}}
}}{\constant[KLabel]{'isKResult}(\variable[K]{V})}{}
\krule{
\reduce{\kall[green]{k}{\constant[KLabel]{and\#ee}(\variable[K]{E1}\kcomma\variable[List\{K\}]{E2})\kra\variable[K]{K}}
}{\kall[green]{k}{\variable[K]{E1}\kra\constant[KLabel]{and\#He}(\variable[List\{K\}]{E2})\kra\variable[K]{K}}
}}{\constant[KLabel]{'notBool}(\constant[KLabel]{'isKResult}(\variable[K]{E1}))}{}
\krule{
\reduce{\kall[green]{k}{\variable[K]{V}\kra\constant[KLabel]{and\#He}(\variable[List\{K\}]{E})\kra\variable[K]{K}}
}{\kall[green]{k}{\constant[KLabel]{and\#ee}(\variable[K]{V}\kcomma\variable[List\{K\}]{E})\kra\variable[K]{K}}
}}{\constant[KLabel]{'isKResult}(\variable[K]{V})}{}
\krule{
\reduce{\kall[green]{k}{\constant[KLabel]{assign\#ee}(\variable[List\{K\}]{E1}\kcomma\variable[K]{E2})\kra\variable[K]{K}}
}{\kall[green]{k}{\variable[K]{E2}\kra\constant[KLabel]{assign\#eH}(\variable[List\{K\}]{E1})\kra\variable[K]{K}}
}}{\constant[KLabel]{'notBool}(\constant[KLabel]{'isKResult}(\variable[K]{E2}))}{}
\krule{
\reduce{\kall[green]{k}{\variable[K]{V}\kra\constant[KLabel]{assign\#eH}(\variable[List\{K\}]{E})\kra\variable[K]{K}}
}{\kall[green]{k}{\constant[KLabel]{assign\#ee}(\variable[List\{K\}]{E}\kcomma\variable[K]{V})\kra\variable[K]{K}}
}}{\constant[KLabel]{'isKResult}(\variable[K]{V})}{}
\krule{
\reduce{\kall[green]{k}{\constant[KLabel]{ite\#eee}(\variable[K]{E}\kcomma\variable[List\{K\}]{S1}\kcomma\variable[List\{K\}]{S2})\kra\variable[K]{K}}
}{\kall[green]{k}{\variable[K]{E}\kra\constant[KLabel]{ite\#Hee}(\variable[List\{K\}]{S1}\kcomma\variable[List\{K\}]{S2})\kra\variable[K]{K}}
}}{\constant[KLabel]{'notBool}(\constant[KLabel]{'isKResult}(\variable[K]{E}))}{}
\krule{
\reduce{\kall[green]{k}{\variable[K]{V}\kra\constant[KLabel]{ite\#Hee}(\variable[List\{K\}]{S1}\kcomma\variable[List\{K\}]{S2})\kra\variable[K]{K}}
}{\kall[green]{k}{\constant[KLabel]{ite\#eee}(\variable[K]{V}\kcomma\variable[List\{K\}]{S1}\kcomma\variable[List\{K\}]{S2})\kra\variable[K]{K}}
}}{\constant[KLabel]{'isKResult}(\variable[K]{V})}{}
\krule{
\reduce{\kall[yellow]{T}{\kall[green]{k}{\variable[Id]{X}\kra\variable[K]{K}}
\mathrel{}\kall[red]{env}{\variable[Map]{EL}\mathrel{}\variable[Id]{X}\mapsto\variable[K]{I}\mathrel{}\variable[Map]{ER}}
}
}{\kall[yellow]{T}{\kall[green]{k}{\variable[K]{I}\kra\variable[K]{K}}
\mathrel{}\kall[red]{env}{\variable[Map]{EL}\mathrel{}\variable[Id]{X}\mapsto\variable[K]{I}\mathrel{}\variable[Map]{ER}}
}
}}{}{}
\krule{
\reduce{\kall[yellow]{T}{\kall[green]{k}{\constant[KLabel]{assign\#ee}(\variable[Id]{X}\kcomma\variable[Int]{I})\kra\variable[K]{K}}
\mathrel{}\kall[red]{env}{\variable[Map]{EL}\mathrel{}\variable[Id]{X}\mapsto\AnyVar[List\{K\}]\mathrel{}\variable[Map]{ER}}
}
}{\kall[yellow]{T}{\kall[green]{k}{\variable[K]{K}}
\mathrel{}\kall[red]{env}{\variable[Map]{EL}\mathrel{}\variable[Id]{X}\mapsto\variable[Int]{I}\mathrel{}\variable[Map]{ER}}
}
}}{}{}
\krule{
\reduce{\kall[green]{k}{\constant[KLabel]{plus\#ee}(\variable[Int]{I1}\kcomma\variable[Int]{I2})\kra\variable[K]{K}}
}{\kall[green]{k}{{\variable[Int]{I1}}\mathrel{+_{\scriptstyle\it Int}}{\variable[Int]{I2}}\kra\variable[K]{K}}
}}{}{}
\krule{
\reduce{\kall[green]{k}{\constant[KLabel]{div\#ee}(\variable[Int]{I1}\kcomma\variable[Int]{I2})\kra\variable[K]{K}}
}{\kall[green]{k}{{\variable[Int]{I1}}\mathrel{\div_{\scriptstyle\it Int}}{\variable[Int]{I2}}\kra\variable[K]{K}}
}}{{\variable[Int]{I2}}\terminal{=/=K}{\constant[\#Int]{0}}}{}
\krule{
\reduce{\kall[green]{k}{\constant[KLabel]{le\#ee}(\variable[Int]{I1}\kcomma\variable[Int]{I2})\kra\variable[K]{K}}
}{\kall[green]{k}{{\variable[Int]{I1}}\mathrel{\leq_{\scriptstyle\it Int}}{\variable[Int]{I2}}\kra\variable[K]{K}}
}}{}{}
\krule{
\reduce{\kall[green]{k}{\constant[KLabel]{not\#e}(\variable[Bool]{B})\kra\variable[K]{K}}
}{\kall[green]{k}{\neg_{\scriptstyle\it Bool}{\variable[Bool]{B}}\kra\variable[K]{K}}
}}{}{}
\krule{
\reduce{\kall[green]{k}{\constant[KLabel]{and\#ee}(\constant[\#Bool]{true}\kcomma\variable[Bool]{B})\kra\variable[K]{K}}
}{\kall[green]{k}{\variable[Bool]{B}\kra\variable[K]{K}}
}}{}{}
\krule{
\reduce{\kall[green]{k}{\constant[KLabel]{and\#ee}(\constant[\#Bool]{false}\kcomma\AnyVar[K])\kra\variable[K]{K}}
}{\kall[green]{k}{\constant[\#Bool]{false}\kra\variable[K]{K}}
}}{}{}
\krule{
\reduce{\kall[green]{k}{\constant[KLabel]{skip\#}(\dotCt{List{K}})\kra\variable[K]{K}}
}{\kall[green]{k}{\variable[K]{K}}
}}{}{}
\krule{
\reduce{\kall[green]{k}{\constant[KLabel]{seq\#ee}(\variable[K]{E1}\kcomma\variable[K]{E2})\kra\variable[K]{K}}
}{\kall[green]{k}{\variable[K]{E1}\kra\variable[K]{E2}\kra\variable[K]{K}}
}}{}{}
\krule{
\reduce{\kall[green]{k}{\constant[KLabel]{ite\#eee}(\constant[\#Bool]{true}\kcomma\variable[K]{E1}\kcomma\variable[K]{E2})\kra\variable[K]{K}}
}{\kall[green]{k}{\variable[K]{E1}\kra\variable[K]{K}}
}}{}{}
\krule{
\reduce{\kall[green]{k}{\constant[KLabel]{ite\#eee}(\constant[\#Bool]{false}\kcomma\variable[K]{E1}\kcomma\variable[K]{E2})\kra\variable[K]{K}}
}{\kall[green]{k}{\variable[K]{E2}\kra\variable[K]{K}}
}}{}{}
\krule{
\reduce{\kall[green]{k}{\constant[KLabel]{while\#ee}(\variable[K]{E}\kcomma\variable[K]{S})\kra\variable[K]{K}}
}{\kall[green]{k}{\constant[KLabel]{ite\#eee}(\variable[K]{E}\kcomma\constant[KLabel]{seq\#ee}(\variable[K]{S}\kcomma\constant[KLabel]{while\#ee}(\variable[K]{E}\kcomma\variable[K]{S}))\kcomma\constant[KLabel]{skip\#}(\dotCt{List{K}}))\kra\variable[K]{K}}
}}{}{}
\krule{
\reduce{\kall[yellow]{T}{\kall[green]{k}{\constant[KLabel]{consIds\#ee}(\variable[K]{V}\kcomma\variable[K]{Rest})\kra\variable[K]{K}}
\mathrel{}\kall[red]{env}{\variable[Map]{E}}
}
}{\kall[yellow]{T}{\kall[green]{k}{\variable[K]{Rest}\kra\variable[K]{K}}
\mathrel{}\kall[red]{env}{\variable[K]{V}\mapsto\constant[\#Int]{0}\mathrel{}\variable[Map]{E}}
}
}}{\constant[KLabel]{'notBool}({\variable[K]{V}}\terminal{in}{\terminal{keys}{\variable[Map]{E}}})}{}
\krule{
\reduce{\kall[green]{k}{\constant[KLabel]{emptyIds\#}(\dotCt{List{K}})\kra\variable[K]{K}}
}{\kall[green]{k}{\variable[K]{K}}
}}{}{}
\end{module}
\end{kdefinition}
\end{document}
