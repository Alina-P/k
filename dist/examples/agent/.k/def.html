<!DOCTYPE html>
<html lang="en">
<head>
	<title>AGENT</title>
	<style>
.bold
{
font-weight: bold;
}
.italic
{
font-style: italic;
}
em
{
font-style: italic;
}
.large
{
font-size: large;
}
.xlarge
{
font-size: x-large;
}
.attribute
{
color: blue;
}
.center
{
text-align: center;
}
.textCentered
{
text-align: center;
display: inline-block;
vertical-align: top;
min-width: 20px;
}
.cell
{
display: inline-block;
vertical-align: top;
text-align:left;
}
hr.reduce
{
color: black;
background-color: black;
height: 3px;
}
hr.reduce:after
{
width: 0;
height: 0;
border-left : 6px solid transparent;
border-right : 6px solid transparent;
border-top : 6px solid black;
position: absolute;
content: "";
}
.tab
{
display: inline-block;
padding : 2px;
margin-left : 0;
border-top : 3px solid;
border-left : 3px solid;
border-right : 3px solid;
text-align: left;
}
.tab.curvedEdge
{
position: relative;
left: 30px;
top : 3px;
}
.tab.straightEdge
{
position: relative;
left: 8px;
top : 3px;
}
.block
{
color : black;
border-width: 3px;
display: inline-block; 
padding: 10px;
padding-left: 20px;
padding-right: 20px;
border-radius: 30px;
border-style: solid;
min-width: 60px;
text-align: left;
}
.block.right
{
border-top-right-radius: 0px;
border-bottom-right-radius: 0px;
border-right-style: dotted;
}
.block.left
{
border-top-left-radius: 0px;
border-bottom-left-radius: 0px;
border-left-style: dotted;
}
.defaultColor
{
border-color: #000000;
background-color: #FFFFFF;
}
.green
{
border-color: #008000;
background-color: #BEEEBE;
}
	</style>
	<meta charset="utf-8" />
</head>
<body>
<span class="xlarge">AGENT </span> 
<div> <br /> </div>
<div>MODULE <span class="large">EXP-SYNTAX</span> <br /> <br />
<table> <tr> <td> SYNTAX <span class ="italic"> K </span></td><td> ::= </td> <td><span class ="italic"> Bool </span></td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td><span class ="italic"> Int </span></td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td>( <span class ="italic"> K </span>) </td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td><span class ="italic"> K </span>* <span class ="italic"> K </span> [ <span class ="attribute"> strict</span> ]</td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td><span class ="italic"> K </span>/ <span class ="italic"> K </span> [ <span class ="attribute"> strict</span> ]</td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td><span class ="italic"> K </span>+ <span class ="italic"> K </span> [ <span class ="attribute"> strict</span> ]</td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td><span class ="italic"> K </span>&lt;= <span class ="italic"> K </span> [ <span class ="attribute"> seqstrict</span> ]</td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td><span class ="italic"> K </span>== <span class ="italic"> K </span> [ <span class ="attribute"> strict</span> ]</td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td>not <span class ="italic"> K </span> [ <span class ="attribute"> strict</span> ]</td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td><span class ="italic"> K </span>and <span class ="italic"> K </span> [ <span class ="attribute"> strict(1)</span> ]</td> </tr>
</table>
<br />
END MODULE </div>
<br />
<div>MODULE <span class="large">EXP</span> <br /> <br />
<table> <tr> <td> SYNTAX <span class ="italic"> KResult </span></td><td> ::= </td> <td><span class ="italic"> Bool </span></td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td><span class ="italic"> Int </span></td> </tr>
</table>
<br />
<div> <span > RULE </span><div class="cell"> <div class="textCentered"> <em> <span title ="Int">I1 </span> + <span title ="Int">I2 </span> </em> <hr class="reduce"/> <em> <span title ="Int">I1 </span> +Int <span title ="Int">I2 </span> </em> </div></div> </div> <br />
<div> <span > RULE </span><div class="cell"> <div class="textCentered"> <em> <span title ="Int">I1 </span> * <span title ="Int">I2 </span> </em> <hr class="reduce"/> <em> <span title ="Int">I1 </span> *Int <span title ="Int">I2 </span> </em> </div></div> </div> <br />
<div> <span > RULE </span><div class="cell"> <div class="textCentered"> <em> <span title ="Int">I1 </span> / <span title ="Int">I2 </span> </em> <hr class="reduce"/> <em> <span title ="Int">I1 </span> /Int <span title ="Int">I2 </span> </em> </div></div>  when <span title ="Int">I2 </span> =/=Int <span title ="#Int"> 0 </span> </div> <br />
<div> <span > RULE </span><div class="cell"> <div class="textCentered"> <em> <span title ="Int">I1 </span> &lt;= <span title ="Int">I2 </span> </em> <hr class="reduce"/> <em> <span title ="Int">I1 </span> &lt;=Int <span title ="Int">I2 </span> </em> </div></div> </div> <br />
<div> <span > RULE </span><div class="cell"> <div class="textCentered"> <em> <span title ="KResult">V1 </span> == <span title ="KResult">V2 </span> </em> <hr class="reduce"/> <em> <span title ="KResult">V1 </span> ==K <span title ="KResult">V2 </span> </em> </div></div> </div> <br />
<div> <span > RULE </span><div class="cell"> <div class="textCentered"> <em> not <span title ="Bool">T </span> </em> <hr class="reduce"/> <em> notBool <span title ="Bool">T </span> </em> </div></div> </div> <br />
<div> <span > RULE </span><div class="cell"> <div class="textCentered"> <em> <span title ="#Bool"> true </span> and <span title ="K">E </span> </em> <hr class="reduce"/> <em> <span title ="K">E </span> </em> </div></div> </div> <br />
<div> <span > RULE </span><div class="cell"> <div class="textCentered"> <em> <span title ="#Bool"> false </span> and <span title ="K">E </span> </em> <hr class="reduce"/> <em> <span title ="#Bool"> false </span> </em> </div></div> </div> <br />
END MODULE </div>
<br />
<div>MODULE <span class="large">IF-SYNTAX</span> <br /> <br />
<table> <tr> <td> SYNTAX <span class ="italic"> K </span></td><td> ::= </td> <td><span class ="italic"> Bool </span></td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td>if <span class ="italic"> K </span>then <span class ="italic"> K </span>else <span class ="italic"> K </span> [ <span class ="attribute"> strict(1)</span> ]</td> </tr>
</table>
<br />
END MODULE </div>
<br />
<div>MODULE <span class="large">IF</span> <br /> <br />
<table> <tr> <td> SYNTAX <span class ="italic"> KResult </span></td><td> ::= </td> <td><span class ="italic"> Bool </span></td> </tr>
</table>
<br />
<div> <span > RULE </span><div class="cell"> <div class="textCentered"> <em> if <span title ="#Bool"> true </span> then <span title ="K">E </span> else <span title ="K">_ </span> </em> <hr class="reduce"/> <em> <span title ="K">E </span> </em> </div></div> </div> <br />
<div> <span > RULE </span><div class="cell"> <div class="textCentered"> <em> if <span title ="#Bool"> false </span> then <span title ="K">_ </span> else <span title ="K">E </span> </em> <hr class="reduce"/> <em> <span title ="K">E </span> </em> </div></div> </div> <br />
END MODULE </div>
<br />
<div>MODULE <span class="large">LAMBDA-SYNTAX</span> <br /> <br />
<table> <tr> <td> SYNTAX <span class ="italic"> K </span></td><td> ::= </td> <td><span class ="italic"> Id </span></td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td>( <span class ="italic"> K </span>) </td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td><span class ="italic"> K </span><span class ="italic"> K </span> [ <span class ="attribute"> strict</span> ]</td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td>\\ <span class ="italic"> Id </span>. <span class ="italic"> K </span> [ <span class ="attribute"> binder</span> ]</td> </tr>
</table>
<br />
END MODULE </div>
<br />
<div>MODULE <span class="large">LAMBDA</span> <br /> <br />
<table> <tr> <td> SYNTAX <span class ="italic"> KResult </span></td><td> ::= </td> <td><span class ="italic"> Id </span></td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td>\\ <span class ="italic"> Id </span>. <span class ="italic"> K </span> [ <span class ="attribute"> binder</span> ]</td> </tr>
</table>
<br />
<div> <span > RULE </span><div class="cell"> <div class="textCentered"> <em> \\ <span title ="Id">X </span> . <span title ="K">E </span> <span title ="KResult">V </span> </em> <hr class="reduce"/> <em> <span title ="K">E </span> [ <span title ="KResult">V </span> / <span title ="Id">X </span> ] </em> </div></div> </div> <br />
END MODULE </div>
<br />
<div>MODULE <span class="large">MU-SYNTAX</span> <br /> <br />
<table> <tr> <td> SYNTAX <span class ="italic"> K </span></td><td> ::= </td> <td>mu <span class ="italic"> Id </span>. <span class ="italic"> K </span> [ <span class ="attribute"> binder</span> ]</td> </tr>
</table>
<br />
END MODULE </div>
<br />
<div>MODULE <span class="large">MU</span> <br /> <br />
<div> <span > RULE </span><div class="cell"> <div class="textCentered"> <em> mu <span title ="Id">X </span> . <span title ="K">E </span> </em> <hr class="reduce"/> <em> <span title ="K">E </span> [ mu <span title ="Id">X </span> . <span title ="K">E </span> / <span title ="Id">X </span> ] </em> </div></div> </div> <br />
END MODULE </div>
<br />
<div>MODULE <span class="large">CALLCC-SYNTAX</span> <br /> <br />
<table> <tr> <td> SYNTAX <span class ="italic"> K </span></td><td> ::= </td> <td>callcc <span class ="italic"> K </span> [ <span class ="attribute"> strict</span> ]</td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td>cc ( <span class ="italic"> K </span>) </td> </tr>
</table>
<br />
END MODULE </div>
<br />
<div>MODULE <span class="large">CALLCC</span> <br /> <br />
<table> <tr> <td> SYNTAX <span class ="italic"> KResult </span></td><td> ::= </td> <td>cc ( <span class ="italic"> K </span>) </td> </tr>
</table>
<br />
<div> <span title ="Rule Label: save-cxt"> RULE </span><div class="cell"> <div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">k</span> </div><br /><div class="block defaultColor" > <div class="center"><div class="textCentered"> <em> callcc <span title ="KResult">V </span> </em> <hr class="reduce"/> <em> <span title ="KResult">V </span> cc ( <span title ="K">K </span> ) </em> </div>&#x219d; <span title ="K">K </span> </div> </div> </div>
</div> </div> <br />
<div> <span title ="Rule Label: restore-cxt"> RULE </span><div class="cell"> <div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">k</span> </div><br /><div class="block defaultColor" > <div class="center"><div class="textCentered"> <em> cc ( <span title ="K">K </span> ) <span title ="K">V </span> &#x219d; <span title ="K">_ </span> </em> <hr class="reduce"/> <em> <span title ="K">V </span> &#x219d; <span title ="K">K </span> </em> </div></div> </div> </div>
</div> </div> <br />
END MODULE </div>
<br />
<div>MODULE <span class="large">HALT-SYNTAX</span> <br /> <br />
<table> <tr> <td> SYNTAX <span class ="italic"> K </span></td><td> ::= </td> <td>halt <span class ="italic"> K </span> [ <span class ="attribute"> strict</span> ]</td> </tr>
</table>
<br />
END MODULE </div>
<br />
<div>MODULE <span class="large">HALT</span> <br /> <br />
<div> <span > RULE </span><div class="cell"> <div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">k</span> </div><br /><div class="block defaultColor" > <div class="center"><div class="textCentered"> <em> halt <span title ="KResult">V </span> &#x219d; <span title ="K">_ </span> </em> <hr class="reduce"/> <em> <span title ="KResult">V </span> </em> </div></div> </div> </div>
</div> </div> <br />
END MODULE </div>
<br />
<div>MODULE <span class="large">SEQ-SYNTAX</span> <br /> <br />
<table> <tr> <td> SYNTAX <span class ="italic"> K </span></td><td> ::= </td> <td>skip </td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td><span class ="italic"> K </span>; <span class ="italic"> K </span> [ <span class ="attribute"> strict(1)</span> ]</td> </tr>
</table>
<br />
END MODULE </div>
<br />
<div>MODULE <span class="large">SEQ</span> <br /> <br />
<table> <tr> <td> SYNTAX <span class ="italic"> KResult </span></td><td> ::= </td> <td>skip </td> </tr>
</table>
<br />
<div> <span > RULE </span><div class="cell"> <div class="textCentered"> <em> <span title ="KResult">V </span> ; <span title ="K">S </span> </em> <hr class="reduce"/> <em> <span title ="K">S </span> </em> </div></div>  [ <span class ="attribute"> structural</span> ]</div> <br />
END MODULE </div>
<br />
<div>MODULE <span class="large">IO-SYNTAX</span> <br /> <br />
<table> <tr> <td> SYNTAX <span class ="italic"> K </span></td><td> ::= </td> <td><span class ="italic"> Int </span></td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td>read </td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td>print <span class ="italic"> K </span> [ <span class ="attribute"> strict</span> ]</td> </tr>
</table>
<br />
END MODULE </div>
<br />
<div>MODULE <span class="large">IO</span> <br /> <br />
<div> CONFIGURATION : <br /><div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">k</span> </div><br /><div class="block defaultColor" > <div class="center"> <span title="K" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">in</span> </div><br /><div class="block defaultColor" > <div class="center"> <span title="List" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">out</span> </div><br /><div class="block defaultColor" > <div class="center"> <span title="List" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </div> </div> </div>
</div> <br /><div> <span > RULE </span><div class="cell"> <div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">k</span> </div><br /><div class="block right defaultColor" > <div class="center"><div class="textCentered"> <em> read </em> <hr class="reduce"/> <em> <span title ="Int">I </span> </em> </div></div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">in</span> </div><br /><div class="block right defaultColor" > <div class="center"><div class="textCentered"> <em> <span title ="Int">I </span> </em> <hr class="reduce"/> <em>  <span title="List" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </em> </div></div> </div> </div>
</div> </div> <br />
<div> <span > RULE </span><div class="cell"> <div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">k</span> </div><br /><div class="block right defaultColor" > <div class="center"><div class="textCentered"> <em> print <span title ="KResult">V </span> </em> <hr class="reduce"/> <em> skip </em> </div></div> </div> </div>
<div class="cell"> <div class="tab straightEdge defaultColor"><span class = "bold">out</span> </div><br /><div class="block left defaultColor" > <div class="center"><div class="textCentered"> <em>  <span title="List" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </em> <hr class="reduce"/> <em> <span title ="KResult">V </span> </em> </div></div> </div> </div>
</div> </div> <br />
END MODULE </div>
<br />
<div>MODULE <span class="large">REF-SYNTAX</span> <br /> <br />
<table> <tr> <td> SYNTAX <span class ="italic"> K </span></td><td> ::= </td> <td><span class ="italic"> Nat </span></td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td>ref <span class ="italic"> K </span> [ <span class ="attribute"> strict</span> ]</td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td>* <span class ="italic"> K </span> [ <span class ="attribute"> strict</span> ]</td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td><span class ="italic"> K </span>:= <span class ="italic"> K </span> [ <span class ="attribute"> strict(2)</span> ]</td> </tr>
</table>
<br />
END MODULE </div>
<br />
<div>MODULE <span class="large">REF</span> <br /> <br />
<div> CONFIGURATION : <br /><div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">k</span> </div><br /><div class="block defaultColor" > <div class="center"> <span title="K" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">mem</span> </div><br /><div class="block defaultColor" > <div class="center"> <span title="Map" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">nextLoc</span> </div><br /><div class="block defaultColor" style="min-width:4.9em"> <div class="center"><span title ="#Int"> 0 </span> </div> </div> </div>
</div> <br /><div> CONTEXT * &#9633;:= <span title ="K">_ </span> </div> <br />
<div> <span > RULE </span><div class="cell"> <div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">k</span> </div><br /><div class="block right defaultColor" > <div class="center"><div class="textCentered"> <em> ref <span title ="KResult">V </span> </em> <hr class="reduce"/> <em> <span title ="Nat">N </span> </em> </div></div> </div> </div>
<div class="cell"> <div class="tab straightEdge defaultColor"><span class = "bold">mem</span> </div><br /><div class="block left right defaultColor" > <div class="center"><div class="textCentered"> <em>  <span title="Map" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </em> <hr class="reduce"/> <em> <span title ="Nat">N </span> <span text-size="large"> &#x21a6; </span><span title ="KResult">V </span> </em> </div></div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">nextLoc</span> </div><br /><div class="block defaultColor" style="min-width:4.9em"> <div class="center"><div class="textCentered"> <em> <span title ="Nat">N </span> </em> <hr class="reduce"/> <em> <span title ="Nat">N </span> +Int <span title ="#Int"> 1 </span> </em> </div></div> </div> </div>
</div> </div> <br />
<div> <span > RULE </span><div class="cell"> <div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">k</span> </div><br /><div class="block right defaultColor" > <div class="center"><div class="textCentered"> <em> * <span title ="K">N </span> </em> <hr class="reduce"/> <em> <span title ="K">V </span> </em> </div></div> </div> </div>
<div class="cell"> <div class="tab straightEdge defaultColor"><span class = "bold">mem</span> </div><br /><div class="block left right defaultColor" > <div class="center"><span title ="K">N </span> <span text-size="large"> &#x21a6; </span><span title ="K">V </span> </div> </div> </div>
</div>  [ <span class ="attribute"> transition</span> ]</div> <br />
<div> <span > RULE </span><div class="cell"> <div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">k</span> </div><br /><div class="block right defaultColor" > <div class="center"><div class="textCentered"> <em> * <span title ="K">N </span> := <span title ="K">V </span> </em> <hr class="reduce"/> <em> skip </em> </div></div> </div> </div>
<div class="cell"> <div class="tab straightEdge defaultColor"><span class = "bold">mem</span> </div><br /><div class="block left right defaultColor" > <div class="center"><span title ="K">N </span> <span text-size="large"> &#x21a6; </span><div class="textCentered"> <em> <span title ="List{K}">_ </span> </em> <hr class="reduce"/> <em> <span title ="K">V </span> </em> </div></div> </div> </div>
</div>  [ <span class ="attribute"> transition</span> ]</div> <br />
END MODULE </div>
<br />
<div>MODULE <span class="large">WHILE-SYNTAX</span> <br /> <br />
<table> <tr> <td> SYNTAX <span class ="italic"> K </span></td><td> ::= </td> <td>while <span class ="italic"> K </span>do <span class ="italic"> K </span></td> </tr>
</table>
<br />
END MODULE </div>
<br />
<div>MODULE <span class="large">WHILE</span> <br /> <br />
<div> <span > RULE </span><div class="cell"> <div class="textCentered"> <em> while <span title ="K">E </span> do <span title ="K">S </span> </em> <hr class="reduce"/> <em> if <span title ="K">E </span> then <span title ="K">S </span> ; while <span title ="K">E </span> do <span title ="K">S </span> else skip </em> </div></div> </div> <br />
END MODULE </div>
<br />
<div>MODULE <span class="large">THREADS-SYNTAX</span> <br /> <br />
<table> <tr> <td> SYNTAX <span class ="italic"> K </span></td><td> ::= </td> <td><span class ="italic"> Nat </span></td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td>acquire <span class ="italic"> K </span> [ <span class ="attribute"> strict</span> ]</td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td>release <span class ="italic"> K </span> [ <span class ="attribute"> strict</span> ]</td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td>rendezvous <span class ="italic"> K </span> [ <span class ="attribute"> strict</span> ]</td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td>spawn <span class ="italic"> K </span></td> </tr>
</table>
<br />
END MODULE </div>
<br />
<div>MODULE <span class="large">THREADS</span> <br /> <br />
<div> CONFIGURATION : <br /><div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">thread</span> </div><br /><div class="block defaultColor" style="min-width:4.2em"> <div class="center"><div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">k</span> </div><br /><div class="block defaultColor" > <div class="center"> <span title="K" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">holds</span> </div><br /><div class="block defaultColor" > <div class="center"> <span title="Map" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </div> </div> </div>
</div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">busy</span> </div><br /><div class="block defaultColor" > <div class="center"> <span title="Set" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </div> </div> </div>
</div> <br /><div> <span title ="Rule Label: spawn-thread"> RULE </span><div class="cell"> <div class="cell"> <div class="tab straightEdge defaultColor"><span class = "bold">thread</span> </div><br /><div class="block left right defaultColor" style="min-width:4.2em"> <div class="center"><div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">k</span> </div><br /><div class="block right defaultColor" > <div class="center"><div class="textCentered"> <em> spawn <span title ="K">S </span> </em> <hr class="reduce"/> <em> skip </em> </div></div> </div> </div>
</div> </div> </div>
<div class="textCentered"> <em>  <span title="Bag" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </em> <hr class="reduce"/> <em> <div class="cell"> <div class="tab straightEdge defaultColor"><span class = "bold">thread</span> </div><br /><div class="block left right defaultColor" style="min-width:4.2em"> <div class="center"><div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">k</span> </div><br /><div class="block defaultColor" > <div class="center"><span title ="K">S </span> </div> </div> </div>
</div> </div> </div>
</em> </div></div>  [ <span class ="attribute"> transition</span> ]</div> <br />
<div> <span title ="Rule Label: end-thread"> RULE </span><div class="cell"> <div class="textCentered"> <em> <div class="cell"> <div class="tab straightEdge defaultColor"><span class = "bold">thread</span> </div><br /><div class="block left right defaultColor" style="min-width:4.2em"> <div class="center"><div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">k</span> </div><br /><div class="block defaultColor" > <div class="center"><span title ="KResult">V </span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">holds</span> </div><br /><div class="block defaultColor" > <div class="center"><span title ="Map">Holds </span> </div> </div> </div>
</div> </div> </div>
</em> <hr class="reduce"/> <em>  <span title="Bag" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </em> </div><div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">busy</span> </div><br /><div class="block defaultColor" > <div class="center"><div class="textCentered"> <em> <span title ="Set">Busy </span> </em> <hr class="reduce"/> <em> <span title ="Set">Busy </span> -Set keys <span title ="Map">Holds </span> </em> </div></div> </div> </div>
</div>  [ <span class ="attribute"> transition</span> ]</div> <br />
<div> <span title ="Rule Label: free-acquire"> RULE </span><div class="cell"> <div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">k</span> </div><br /><div class="block right defaultColor" > <div class="center"><div class="textCentered"> <em> acquire <span title ="K">V </span> </em> <hr class="reduce"/> <em> skip </em> </div></div> </div> </div>
<div class="cell"> <div class="tab straightEdge defaultColor"><span class = "bold">holds</span> </div><br /><div class="block left right defaultColor" > <div class="center"><div class="textCentered"> <em>  <span title="Map" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </em> <hr class="reduce"/> <em> <span title ="K">V </span> <span text-size="large"> &#x21a6; </span><span title ="#Int"> 0 </span> </em> </div></div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">busy</span> </div><br /><div class="block defaultColor" > <div class="center"><span title ="Set">Busy </span> <div class="textCentered"> <em>  <span title="Set" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </em> <hr class="reduce"/> <em> <span title ="K">V </span> </em> </div></div> </div> </div>
</div>  when notBool <span title ="K">V </span> in <span title ="Set">Busy </span>  [ <span class ="attribute"> transition</span> ]</div> <br />
<div> <span title ="Rule Label: reentrant-acquire"> RULE </span><div class="cell"> <div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">k</span> </div><br /><div class="block right defaultColor" > <div class="center"><div class="textCentered"> <em> acquire <span title ="K">V </span> </em> <hr class="reduce"/> <em> skip </em> </div></div> </div> </div>
<div class="cell"> <div class="tab straightEdge defaultColor"><span class = "bold">holds</span> </div><br /><div class="block left right defaultColor" > <div class="center"><span title ="K">V </span> <span text-size="large"> &#x21a6; </span><div class="textCentered"> <em> <span title ="Nat">N </span> </em> <hr class="reduce"/> <em> <span title ="Nat">N </span> +Int <span title ="#Int"> 1 </span> </em> </div></div> </div> </div>
</div> </div> <br />
<div> <span title ="Rule Label: reentrant-release"> RULE </span><div class="cell"> <div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">k</span> </div><br /><div class="block right defaultColor" > <div class="center"><div class="textCentered"> <em> release <span title ="K">V </span> </em> <hr class="reduce"/> <em> skip </em> </div></div> </div> </div>
<div class="cell"> <div class="tab straightEdge defaultColor"><span class = "bold">holds</span> </div><br /><div class="block left right defaultColor" > <div class="center"><span title ="K">V </span> <span text-size="large"> &#x21a6; </span><div class="textCentered"> <em> <span title ="K">N </span> </em> <hr class="reduce"/> <em> <span title ="K">N </span> -Int <span title ="#Int"> 1 </span> </em> </div></div> </div> </div>
</div>  when <span title ="K">N </span> >Int <span title ="#Int"> 0 </span> </div> <br />
<div> <span title ="Rule Label: release"> RULE </span><div class="cell"> <div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">k</span> </div><br /><div class="block right defaultColor" > <div class="center"><div class="textCentered"> <em> release <span title ="K">V </span> </em> <hr class="reduce"/> <em> skip </em> </div></div> </div> </div>
<div class="cell"> <div class="tab straightEdge defaultColor"><span class = "bold">holds</span> </div><br /><div class="block left right defaultColor" > <div class="center"><div class="textCentered"> <em> <span title ="K">V </span> <span text-size="large"> &#x21a6; </span><span title ="#Int"> 0 </span> </em> <hr class="reduce"/> <em>  <span title="Map" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </em> </div></div> </div> </div>
<div class="cell"> <div class="tab straightEdge defaultColor"><span class = "bold">busy</span> </div><br /><div class="block left right defaultColor" > <div class="center"><div class="textCentered"> <em> <span title ="K">V </span> </em> <hr class="reduce"/> <em>  <span title="Set" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </em> </div></div> </div> </div>
</div> </div> <br />
<div> <span title ="Rule Label: rendezvous"> RULE </span><div class="cell"> <div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">k</span> </div><br /><div class="block right defaultColor" > <div class="center"><div class="textCentered"> <em> rendezvous <span title ="K">V </span> </em> <hr class="reduce"/> <em> skip </em> </div></div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">k</span> </div><br /><div class="block right defaultColor" > <div class="center"><div class="textCentered"> <em> rendezvous <span title ="K">V </span> </em> <hr class="reduce"/> <em> skip </em> </div></div> </div> </div>
</div>  [ <span class ="attribute"> transition</span> ]</div> <br />
END MODULE </div>
<br />
<div>MODULE <span class="large">AGENTS-SYNTAX</span> <br /> <br />
<table> <tr> <td> SYNTAX <span class ="italic"> K </span></td><td> ::= </td> <td><span class ="italic"> Int </span></td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td><span class ="italic"> Bool </span></td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td>newAgent <span class ="italic"> K </span></td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td>me </td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td>parent </td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td>receive </td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td>receiveFrom <span class ="italic"> K </span> [ <span class ="attribute"> strict</span> ]</td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td>send <span class ="italic"> K </span>to <span class ="italic"> K </span> [ <span class ="attribute"> strict</span> ]</td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td>sendSynch <span class ="italic"> K </span>to <span class ="italic"> K </span> [ <span class ="attribute"> strict</span> ]</td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td>barrier </td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td>broadcast <span class ="italic"> K </span> [ <span class ="attribute"> strict</span> ]</td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td>haltAgent </td> </tr>
</table>
<br />
END MODULE </div>
<br />
<div>MODULE <span class="large">AGENTS</span> <br /> <br />
<div> CONFIGURATION : <br /><div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">agent</span> </div><br /><div class="block defaultColor" > <div class="center"><div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">me</span> </div><br /><div class="block defaultColor" > <div class="center"><span title ="#Int"> 0 </span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">parent</span> </div><br /><div class="block defaultColor" style="min-width:4.2em"> <div class="center"><span title ="#Int"> -1 </span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">control</span> </div><br /><div class="block defaultColor" style="min-width:4.9em"> <div class="center"><div class="cell"> <div class="tab curvedEdge green"><span class = "bold">k</span> </div><br /><div class="block green" > <div class="center"> <span title="K" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </div> </div> </div>
</div> </div> </div>
</div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">nextAgent</span> </div><br /><div class="block defaultColor" style="min-width:6.3em"> <div class="center"><span title ="#Int"> 1 </span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">world</span> </div><br /><div class="block defaultColor" > <div class="center"><span title ="#Int"> 0 </span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">barrier</span> </div><br /><div class="block defaultColor" style="min-width:4.9em"> <div class="center"><span title ="#Bool"> true </span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">waiting</span> </div><br /><div class="block defaultColor" style="min-width:4.9em"> <div class="center"> <span title="Set" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">messages</span> </div><br /><div class="block defaultColor" style="min-width:5.6em"> <div class="center"><div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">message</span> </div><br /><div class="block defaultColor" style="min-width:4.9em"> <div class="center"><div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">from</span> </div><br /><div class="block defaultColor" > <div class="center"> <span title="K" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">to</span> </div><br /><div class="block defaultColor" > <div class="center"> <span title="Set" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">body</span> </div><br /><div class="block defaultColor" > <div class="center"> <span title="K" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </div> </div> </div>
</div> </div> </div>
</div> </div> </div>
</div> <br /><div> <span title ="Rule Label: agent-creation"> RULE </span><div class="cell"> <div class="cell"> <div class="tab straightEdge defaultColor"><span class = "bold">agent</span> </div><br /><div class="block left right defaultColor" > <div class="center"><div class="cell"> <div class="tab curvedEdge green"><span class = "bold">k</span> </div><br /><div class="block right green" > <div class="center"><div class="textCentered"> <em> newAgent <span title ="K">S </span> </em> <hr class="reduce"/> <em> <span title ="Nat">N2 </span> </em> </div></div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">me</span> </div><br /><div class="block defaultColor" > <div class="center"><span title ="Nat">N1 </span> </div> </div> </div>
</div> </div> </div>
<div class="cell"> <div class="tab straightEdge defaultColor"><span class = "bold">world</span> </div><br /><div class="block left right defaultColor" > <div class="center"><div class="textCentered"> <em>  <span title="Set" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </em> <hr class="reduce"/> <em> <span title ="Nat">N2 </span> </em> </div></div> </div> </div>
<div class="textCentered"> <em>  <span title="Bag" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </em> <hr class="reduce"/> <em> <div class="cell"> <div class="tab straightEdge defaultColor"><span class = "bold">agent</span> </div><br /><div class="block left right defaultColor" > <div class="center"><div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">me</span> </div><br /><div class="block defaultColor" > <div class="center"><span title ="Nat">N2 </span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">parent</span> </div><br /><div class="block defaultColor" style="min-width:4.2em"> <div class="center"><span title ="Nat">N1 </span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge green"><span class = "bold">k</span> </div><br /><div class="block green" > <div class="center"><span title ="K">S </span> </div> </div> </div>
</div> </div> </div>
</em> </div><div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">nextAgent</span> </div><br /><div class="block defaultColor" style="min-width:6.3em"> <div class="center"><div class="textCentered"> <em> <span title ="Nat">N2 </span> </em> <hr class="reduce"/> <em> <span title ="Nat">N2 </span> +Int <span title ="#Int"> 1 </span> </em> </div></div> </div> </div>
</div> </div> <br />
<div> <span title ="Rule Label: agent-completion"> RULE </span><div class="cell"> <div class="textCentered"> <em> <div class="cell"> <div class="tab straightEdge defaultColor"><span class = "bold">agent</span> </div><br /><div class="block left right defaultColor" > <div class="center"><div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">control</span> </div><br /><div class="block defaultColor" style="min-width:4.9em"> <div class="center"> <span title="Bag" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">me</span> </div><br /><div class="block defaultColor" > <div class="center"><span title ="Nat">N </span> </div> </div> </div>
</div> </div> </div>
</em> <hr class="reduce"/> <em>  <span title="Bag" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </em> </div><div class="cell"> <div class="tab straightEdge defaultColor"><span class = "bold">world</span> </div><br /><div class="block left right defaultColor" > <div class="center"><div class="textCentered"> <em> <span title ="Nat">N </span> </em> <hr class="reduce"/> <em>  <span title="Set" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </em> </div></div> </div> </div>
</div> </div> <br />
<div> <span title ="Rule Label: halt-agent"> RULE </span><div class="cell"> <div class="textCentered"> <em> <div class="cell"> <div class="tab straightEdge defaultColor"><span class = "bold">control</span> </div><br /><div class="block left right defaultColor" style="min-width:4.9em"> <div class="center"><div class="cell"> <div class="tab curvedEdge green"><span class = "bold">k</span> </div><br /><div class="block right green" > <div class="center">haltAgent </div> </div> </div>
</div> </div> </div>
</em> <hr class="reduce"/> <em> <div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">control</span> </div><br /><div class="block defaultColor" style="min-width:4.9em"> <div class="center"> <span title="Bag" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </div> </div> </div>
 <span title="Bag" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </em> </div></div> </div> <br />
<div> <span > RULE </span><div class="cell"> <div class="cell"> <div class="tab curvedEdge green"><span class = "bold">k</span> </div><br /><div class="block right green" > <div class="center"><div class="textCentered"> <em> me </em> <hr class="reduce"/> <em> <span title ="K">N </span> </em> </div></div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">me</span> </div><br /><div class="block defaultColor" > <div class="center"><span title ="K">N </span> </div> </div> </div>
</div> </div> <br />
<div> <span > RULE </span><div class="cell"> <div class="cell"> <div class="tab curvedEdge green"><span class = "bold">k</span> </div><br /><div class="block right green" > <div class="center"><div class="textCentered"> <em> parent </em> <hr class="reduce"/> <em> <span title ="K">N </span> </em> </div></div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">parent</span> </div><br /><div class="block defaultColor" style="min-width:4.2em"> <div class="center"><span title ="K">N </span> </div> </div> </div>
</div> </div> <br />
<div> <span > RULE </span><div class="cell"> <div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">me</span> </div><br /><div class="block defaultColor" > <div class="center"><span title ="K">N1 </span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge green"><span class = "bold">k</span> </div><br /><div class="block right green" > <div class="center"><div class="textCentered"> <em> send <span title ="K">V </span> to <span title ="K">N2 </span> </em> <hr class="reduce"/> <em> skip </em> </div></div> </div> </div>
<div class="textCentered"> <em>  <span title="Bag" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </em> <hr class="reduce"/> <em> <div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">message</span> </div><br /><div class="block defaultColor" style="min-width:4.9em"> <div class="center"><div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">from</span> </div><br /><div class="block defaultColor" > <div class="center"><span title ="K">N1 </span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">to</span> </div><br /><div class="block defaultColor" > <div class="center"><span title ="K">N2 </span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">body</span> </div><br /><div class="block defaultColor" > <div class="center"><span title ="K">V </span> </div> </div> </div>
</div> </div> </div>
</em> </div></div> </div> <br />
<div> <span > RULE </span><div class="cell"> <div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">me</span> </div><br /><div class="block defaultColor" > <div class="center"><span title ="K">N </span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge green"><span class = "bold">k</span> </div><br /><div class="block right green" > <div class="center"><div class="textCentered"> <em> receive </em> <hr class="reduce"/> <em> <span title ="KResult">V </span> </em> </div></div> </div> </div>
<div class="cell"> <div class="tab straightEdge defaultColor"><span class = "bold">message</span> </div><br /><div class="block left right defaultColor" style="min-width:4.9em"> <div class="center"><div class="cell"> <div class="tab straightEdge defaultColor"><span class = "bold">to</span> </div><br /><div class="block left right defaultColor" > <div class="center"><div class="textCentered"> <em> <span title ="K">N </span> </em> <hr class="reduce"/> <em>  <span title="Set" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </em> </div></div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">body</span> </div><br /><div class="block defaultColor" > <div class="center"><span title ="KResult">V </span> </div> </div> </div>
</div> </div> </div>
</div> </div> <br />
<div> <span > RULE </span><div class="cell"> <div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">message</span> </div><br /><div class="block defaultColor" style="min-width:4.9em"> <div class="center"><div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">from</span> </div><br /><div class="block defaultColor" > <div class="center"><span title ="K">N2 </span> </div> </div> </div>
<div class="cell"> <div class="tab straightEdge defaultColor"><span class = "bold">to</span> </div><br /><div class="block left right defaultColor" > <div class="center"><div class="textCentered"> <em> <span title ="K">N1 </span> </em> <hr class="reduce"/> <em>  <span title="Set" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </em> </div></div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">body</span> </div><br /><div class="block defaultColor" > <div class="center"><span title ="K">V </span> </div> </div> </div>
</div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">me</span> </div><br /><div class="block defaultColor" > <div class="center"><span title ="K">N1 </span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge green"><span class = "bold">k</span> </div><br /><div class="block right green" > <div class="center"><div class="textCentered"> <em> receiveFrom <span title ="K">N2 </span> </em> <hr class="reduce"/> <em> <span title ="K">V </span> </em> </div></div> </div> </div>
</div> </div> <br />
<div> <span > RULE </span><div class="cell"> <div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">me</span> </div><br /><div class="block defaultColor" > <div class="center"><span title ="K">N </span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge green"><span class = "bold">k</span> </div><br /><div class="block right green" > <div class="center"><div class="textCentered"> <em> broadcast <span title ="K">V </span> </em> <hr class="reduce"/> <em> skip </em> </div></div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">world</span> </div><br /><div class="block defaultColor" > <div class="center"><span title ="Set">W </span> </div> </div> </div>
<div class="textCentered"> <em>  <span title="Bag" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </em> <hr class="reduce"/> <em> <div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">message</span> </div><br /><div class="block defaultColor" style="min-width:4.9em"> <div class="center"><div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">from</span> </div><br /><div class="block defaultColor" > <div class="center"><span title ="K">N </span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">to</span> </div><br /><div class="block defaultColor" > <div class="center"><span title ="Set">W </span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">body</span> </div><br /><div class="block defaultColor" > <div class="center"><span title ="K">V </span> </div> </div> </div>
</div> </div> </div>
</em> </div></div> </div> <br />
<div> <span > RULE </span><div class="cell"> <div class="textCentered"> <em> <div class="cell"> <div class="tab straightEdge defaultColor"><span class = "bold">message</span> </div><br /><div class="block left right defaultColor" style="min-width:4.9em"> <div class="center"><div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">to</span> </div><br /><div class="block defaultColor" > <div class="center"> <span title="Set" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </div> </div> </div>
</div> </div> </div>
</em> <hr class="reduce"/> <em>  <span title="Bag" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </em> </div></div>  [ <span class ="attribute"> structural</span> ]</div> <br />
<div> <span > RULE </span><div class="cell"> <div class="cell"> <div class="tab straightEdge defaultColor"><span class = "bold">agent</span> </div><br /><div class="block left right defaultColor" > <div class="center"><div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">me</span> </div><br /><div class="block defaultColor" > <div class="center"><span title ="K">N1 </span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge green"><span class = "bold">k</span> </div><br /><div class="block right green" > <div class="center"><div class="textCentered"> <em> sendSynch <span title ="K">V </span> to <span title ="K">N2 </span> </em> <hr class="reduce"/> <em> skip </em> </div></div> </div> </div>
</div> </div> </div>
<div class="cell"> <div class="tab straightEdge defaultColor"><span class = "bold">agent</span> </div><br /><div class="block left right defaultColor" > <div class="center"><div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">me</span> </div><br /><div class="block defaultColor" > <div class="center"><span title ="K">N2 </span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge green"><span class = "bold">k</span> </div><br /><div class="block right green" > <div class="center"><div class="textCentered"> <em> receiveFrom <span title ="K">N1 </span> </em> <hr class="reduce"/> <em> <span title ="K">V </span> </em> </div></div> </div> </div>
</div> </div> </div>
</div> </div> <br />
<div> <span > RULE </span><div class="cell"> <div class="cell"> <div class="tab curvedEdge green"><span class = "bold">k</span> </div><br /><div class="block right green" > <div class="center"><div class="textCentered"> <em> sendSynch <span title ="K">V </span> to <span title ="K">N2 </span> </em> <hr class="reduce"/> <em> skip </em> </div></div> </div> </div>
<div class="cell"> <div class="tab straightEdge defaultColor"><span class = "bold">agent</span> </div><br /><div class="block left right defaultColor" > <div class="center"><div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">me</span> </div><br /><div class="block defaultColor" > <div class="center"><span title ="K">N2 </span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge green"><span class = "bold">k</span> </div><br /><div class="block right green" > <div class="center"><div class="textCentered"> <em> receive </em> <hr class="reduce"/> <em> <span title ="K">V </span> </em> </div></div> </div> </div>
</div> </div> </div>
</div> </div> <br />
<div> <span title ="Rule Label: start-waiting-at-barrier"> RULE </span><div class="cell"> <div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">me</span> </div><br /><div class="block defaultColor" > <div class="center"><span title ="K">N </span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge green"><span class = "bold">k</span> </div><br /><div class="block right green" > <div class="center">barrier </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">barrier</span> </div><br /><div class="block defaultColor" style="min-width:4.9em"> <div class="center"><span title ="#Bool"> true </span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">waiting</span> </div><br /><div class="block defaultColor" style="min-width:4.9em"> <div class="center"><span title ="Set">W </span> <div class="textCentered"> <em>  <span title="Set" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </em> <hr class="reduce"/> <em> <span title ="K">N </span> </em> </div></div> </div> </div>
</div>  when notBool <span title ="K">N </span> in <span title ="Set">W </span> </div> <br />
<div> <span title ="Rule Label: lifting-barrier"> RULE </span><div class="cell"> <div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">barrier</span> </div><br /><div class="block defaultColor" style="min-width:4.9em"> <div class="center"><div class="textCentered"> <em> <span title ="#Bool"> true </span> </em> <hr class="reduce"/> <em> <span title ="#Bool"> false </span> </em> </div></div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">waiting</span> </div><br /><div class="block defaultColor" style="min-width:4.9em"> <div class="center"><span title ="Set">W </span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">world</span> </div><br /><div class="block defaultColor" > <div class="center"><span title ="Set">W </span> </div> </div> </div>
</div>  when <span title ="Set">W </span> =/=Set  <span title="Set" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </div> <br />
<div> <span title ="Rule Label: leave-barrier"> RULE </span><div class="cell"> <div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">me</span> </div><br /><div class="block defaultColor" > <div class="center"><span title ="K">N </span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge green"><span class = "bold">k</span> </div><br /><div class="block right green" > <div class="center"><div class="textCentered"> <em> barrier </em> <hr class="reduce"/> <em> skip </em> </div></div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">barrier</span> </div><br /><div class="block defaultColor" style="min-width:4.9em"> <div class="center"><span title ="#Bool"> false </span> </div> </div> </div>
<div class="cell"> <div class="tab straightEdge defaultColor"><span class = "bold">waiting</span> </div><br /><div class="block left right defaultColor" style="min-width:4.9em"> <div class="center"><div class="textCentered"> <em> <span title ="K">N </span> </em> <hr class="reduce"/> <em>  <span title="Set" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </em> </div></div> </div> </div>
</div> </div> <br />
<div> <span title ="Rule Label: lowering-barrier"> RULE </span><div class="cell"> <div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">barrier</span> </div><br /><div class="block defaultColor" style="min-width:4.9em"> <div class="center"><div class="textCentered"> <em> <span title ="#Bool"> false </span> </em> <hr class="reduce"/> <em> <span title ="#Bool"> true </span> </em> </div></div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">waiting</span> </div><br /><div class="block defaultColor" style="min-width:4.9em"> <div class="center"> <span title="Set" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </div> </div> </div>
</div> </div> <br />
END MODULE </div>
<br />
<div>MODULE <span class="large">QUOTE-UNQUOTE-SYNTAX</span> <br /> <br />
<table> <tr> <td> SYNTAX <span class ="italic"> K </span></td><td> ::= </td> <td>quote <span class ="italic"> K </span></td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td>unquote <span class ="italic"> K </span></td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td>lift <span class ="italic"> K </span> [ <span class ="attribute"> strict</span> ]</td> </tr>
<tr> <td> </td> <td class = "textCentered"> |  </td> <td>eval <span class ="italic"> K </span> [ <span class ="attribute"> strict</span> ]</td> </tr>
</table>
<br />
END MODULE </div>
<br />
<div>MODULE <span class="large">QUOTE-UNQUOTE</span> <br /> <br />
<table> <tr> <td> SYNTAX <span class ="italic"> K </span></td><td> ::= </td> <td>isQuote ( <span class ="italic"> K </span>)  [ <span class ="attribute"> klabel(isQuote)</span> ]</td> </tr>
</table>
<br />
<div> <span > RULE </span><div class="cell"> <div class="textCentered"> <em> isQuote ( quote <span title ="K">K </span> ) </em> <hr class="reduce"/> <em> <span title ="#Bool"> true </span> </em> </div></div>  [ <span class ="attribute"> anywhere</span> ]</div> <br />
<div> <span > RULE </span><div class="cell"> <div class="textCentered"> <em> isQuote ( unquote <span title ="K">K </span> ) </em> <hr class="reduce"/> <em> <span title ="#Bool"> true </span> </em> </div></div>  [ <span class ="attribute"> anywhere</span> ]</div> <br />
<table> <tr> <td> SYNTAX <span class ="italic"> K </span></td><td> ::= </td> <td>mQuote ( <span class ="italic"> K </span>, <span class ="italic"> Nat </span>)  [ <span class ="attribute"> klabel(mQuote)</span> ]</td> </tr>
</table>
<br />
<div> <span > RULE </span><div class="cell"> <div class="textCentered"> <em> mQuote ( <span title ="K">K </span> , <span title ="K">N </span> ) </em> <hr class="reduce"/> <em> visit <span title ="K">K </span> applying quoteit [ <span title ="K">N </span> ] if <span title ="KLabel"> 'isQuote </span> </em> </div></div>  [ <span class ="attribute"> structural, anywhere</span> ]</div> <br />
<table> <tr> <td> SYNTAX <span class ="italic"> KLabel </span></td><td> ::= </td> <td>quoteit [ <span class ="italic"> Nat </span>] </td> </tr>
</table>
<br />
<div> <span > RULE </span><div class="cell"> <div class="cell"> <div class="tab curvedEdge green"><span class = "bold">k</span> </div><br /><div class="block right green" > <div class="center"><div class="textCentered"> <em> quote <span title ="K">K </span> </em> <hr class="reduce"/> <em> mQuote ( <span title ="K">K </span> , <span title ="#Int"> 0 </span> ) </em> </div></div> </div> </div>
</div> </div> <br />
<div> <span > RULE </span><div class="cell"> <div class="textCentered"> <em> quoteit [ <span title ="K">N </span> ] (quote <span title ="K">K </span> )</em> <hr class="reduce"/> <em> visitedL ( <span title ="KLabel"> 'quote_ </span> ) (mQuote ( <span title ="K">K </span> , <span title ="K">N </span> +Int <span title ="#Int"> 1 </span> ) )</em> </div></div> </div> <br />
<div> <span > RULE </span><div class="cell"> <div class="textCentered"> <em> quoteit [ <span title ="#Int"> 0 </span> ] (unquote <span title ="K">K </span> )</em> <hr class="reduce"/> <em> <span title ="K">K </span> </em> </div></div> </div> <br />
<div> <span > RULE </span><div class="cell"> <div class="textCentered"> <em> quoteit [ <span title ="Nat">N </span> ] (unquote <span title ="K">K </span> )</em> <hr class="reduce"/> <em> visitedL ( <span title ="KLabel"> 'unquote_ </span> ) (mQuote ( <span title ="K">K </span> , <span title ="Nat">N </span> -Int <span title ="#Int"> 1 </span> ) )</em> </div></div>  when <span title ="Nat">N </span> >Int <span title ="#Int"> 0 </span> </div> <br />
<div> <span > RULE </span><div class="cell"> <div class="textCentered"> <em> lift <span title ="KResult">V </span> </em> <hr class="reduce"/> <em> visitedK ( <span title ="KResult">V </span> ) </em> </div></div> </div> <br />
<div> <span > RULE </span><div class="cell"> <div class="textCentered"> <em> eval visitedK ( <span title ="List{K}">K </span> ) </em> <hr class="reduce"/> <em> <span title ="List{K}">K </span> </em> </div></div> </div> <br />
END MODULE </div>
<br />
<div>MODULE <span class="large">AGENT-SYNTAX</span> <br /> <br />
END MODULE </div>
<br />
<div>MODULE <span class="large">AGENT</span> <br /> <br />
<div> CONFIGURATION : <br /><div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">T</span> </div><br /><div class="block defaultColor" > <div class="center"><div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">agent</span> </div><br /><div class="block defaultColor" > <div class="center"><div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">control</span> </div><br /><div class="block defaultColor" style="min-width:4.9em"> <div class="center"><div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">thread</span> </div><br /><div class="block defaultColor" style="min-width:4.2em"> <div class="center"><div class="cell"> <div class="tab curvedEdge green"><span class = "bold">k</span> </div><br /><div class="block green" > <div class="center"><span title ="K">$PGM </span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">holds</span> </div><br /><div class="block defaultColor" > <div class="center"> <span title="Map" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </div> </div> </div>
</div> </div> </div>
</div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">busy</span> </div><br /><div class="block defaultColor" > <div class="center"> <span title="Set" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">mem</span> </div><br /><div class="block defaultColor" > <div class="center"> <span title="Map" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">nextLoc</span> </div><br /><div class="block defaultColor" style="min-width:4.9em"> <div class="center"><span title ="#Int"> 0 </span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">me</span> </div><br /><div class="block defaultColor" > <div class="center"><span title ="#Int"> 0 </span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">parent</span> </div><br /><div class="block defaultColor" style="min-width:4.2em"> <div class="center"><span title ="#Int"> -1 </span> </div> </div> </div>
</div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">nextAgent</span> </div><br /><div class="block defaultColor" style="min-width:6.3em"> <div class="center"><span title ="#Int"> 1 </span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">world</span> </div><br /><div class="block defaultColor" > <div class="center"><span title ="#Int"> 0 </span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">barrier</span> </div><br /><div class="block defaultColor" style="min-width:4.9em"> <div class="center"><span title ="#Bool"> true </span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">waiting</span> </div><br /><div class="block defaultColor" style="min-width:4.9em"> <div class="center"> <span title="Set" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">messages</span> </div><br /><div class="block defaultColor" style="min-width:5.6em"> <div class="center"><div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">message</span> </div><br /><div class="block defaultColor" style="min-width:4.9em"> <div class="center"><div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">from</span> </div><br /><div class="block defaultColor" > <div class="center"> <span title="K" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">to</span> </div><br /><div class="block defaultColor" > <div class="center"> <span title="Set" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">body</span> </div><br /><div class="block defaultColor" > <div class="center"> <span title="K" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </div> </div> </div>
</div> </div> </div>
</div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">IO</span> </div><br /><div class="block defaultColor" > <div class="center"><div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">in</span> </div><br /><div class="block defaultColor" > <div class="center"> <span title="List" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </div> </div> </div>
<div class="cell"> <div class="tab curvedEdge defaultColor"><span class = "bold">out</span> </div><br /><div class="block defaultColor" > <div class="center"> <span title="List" class = "bold"> &nbsp;&nbsp;&middot;&nbsp;&nbsp;</span> </div> </div> </div>
</div> </div> </div>
</div> </div> </div>
</div> <br /><table> <tr> <td> SYNTAX <span class ="italic"> KResult </span></td><td> ::= </td> <td><span class ="italic"> Id </span></td> </tr>
</table>
<br />
END MODULE </div>
<br />
</body>
</html>
